<!DOCTYPE html>
<html>
    <head>
        <title> HOME PAGE, SCREEN 2 </title>
        <meta charset="utf-8">
        <meta name="author" content="Josh Chang">
        <link rel="stylesheet" href="home.css">
        <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Marvel" />
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
        <script src="https://www.gstatic.com/firebasejs/3.7.0/firebase.js"></script>
        <script src="config.js"></script>

        

    </head>

    <body>
        
        <section>
        <!--General Top Navigation Bar-->
        <ul>
            <li>
                <h1><a href="home.html"> MARVEL-DEX </a></h1>
            </li>


            <li>
                <form action="home.html">
                    <div class="box-area">
                        <input type="search" placeholder="Search Marvel-Dex" required autocomplete="off"/>
                    </div>
                </form>
            </li>

            <li>
                <form action="user_profile.html">
                    <input class="button push-button" type="submit" value="My Profile" />
                </form>
            </li>
            <li>
                <form action="login.html">
                    <input class="button push-button" type="submit" value="Logout" onclick="signOut()" />
                </form>
            </li>
        </ul>

        </section>

        
        <img src="images/marvel_characters_logo.jpeg&h=666" width="300" alt="">

        <!--Character List-->
        <div class="form">
        <h2>All Characters</h2>
            <div id = "all_characters">
            </div>
 <!--                <div class="figure">
                    <a href="character_home.html"><img src="images/ironman_headshot.png" alt="" width=100 height=100>
                    <p>Iron Man</p></a>
                </div>
                <div class="figure">
                    <a href="character_home.html">
                        <img src="images/captain_america_icon.png" alt="" width=100 height=100>
                        <p>Captain America</p>
                    </a>
                </div>
                <div class="figure">
                   <a href="character_home.html">
                        <img src="images/black_widow_icon.jpg" alt="" width=100 height=100>
                        <p>Black Widow</p>
                   </a>
                </div>
                <div class="figure">
                   <a href="character_home.html">
                        <img src="images/hulk_icon.png" alt="" width=100 height=100>
                        <p>Hulk</p>
                    </a>
                </div>
                <div class="figure">
                   <a href="character_home.html">
                        <img src="images/hawkeye_icon.png" alt="" width=100 height=100>
                        <p>Hawkeye</p>
                    </a>
                </div>
                <div class="figure">
                   <a href="character_home.html">
                        <img src="images/nick_fury_icon.png" alt="" width=100 height=100>
                        <p>Nick Fury</p>
                    </a>
                </div>
            </div>
-->
        <!--Movie List-->
        
        <h2>All Movies</h2>
            <div id="all_movies">
                <!-- <div class="figure">
                   <a href="movie_page.html">
                        <img src="images/iron_man_poster.jpg" alt="" width=100 height=160>
                        <p>Iron Man</p>
                    </a>
                </div>
                <div class="figure">
                   <a href="movie_page.html">
                        <img src="images/spiderman_poster.jpg" alt="" width=100 height=140>
                        <p>The Amazing Spiderman</p>
                    </a>
                </div>              
                <div class="figure">
                   <a href="movie_page.html">
                        <img src="images/logan_poster.jpg" alt="" width=100 height=160>
                        <p>Logan</p>
                    </a>
                </div>
                <div class="figure">
                   <a href="movie_page.html">
                        <img src="images/avengers_poster.jpg" alt="" width=100 height=160>
                        <p>The Avengers</p>
                    </a>
                </div>  
                <div class="figure">
                   <a href="movie_page.html">
                        <img src="images/civil_war_poster.jpg" alt="" width=100 height=160>
                        <p>Captain America: Civil War</p>
                    </a>
                </div>
                <div class="figure">
                   <a href="movie_page.html">
                        <img src="images/thor_poster.jpg" alt="" width=100 height=160>
                        <p>Thor</p>
                    </a>
                </div>   -->
            </div>
    </div>
    
    <script type = "text/javascript"> </script>
        <script>
                firebase.initializeApp(config);

                $(function() {
                    console.log("CALLED JAVASCRIPT AGAIN");
                    $(document).ready(function(){
                        <!-- all characters -->
                        $.getJSON('../all_characters.json', function(data){
                            console.log("IN character JSON"); 
                            $.each(data.all_characters, function(x,y){
                                <!-- if(y.name == "Spider Man"){ -->
                                    <!-- console.log("IF STATEMENT WORKED"); -->
                                <!-- } -->
                                <!-- y.id = 0; -->
                                var toAdd = "<div class = 'figure'> " + "<a href = 'character_home.html'>" + "<img src= " + y.img_url + " width = 100 height = 100>" + " <p> " + y.name + "</p> </a> </div>";
                                
                                <!-- $('a').click(function(event){ -->
                                    <!-- console.log("clicked on character"); -->
                                <!-- }); -->
                                
                                $(toAdd).appendTo("#all_characters");
                            });
                        });
                        
                    });
                    
                });
                $(function() {
                    $(document).ready(function(){
                        <!-- all movies -->
                        console.log("in movies");
                        $.getJSON('../all_movies.json', function(data){
                            console.log("IN movie JSON"); 
                            $.each(data.all_movies, function(x,y){
                                y.selected = 0;
                                console.log("Movie:  " + y.name + " selected: " + y.selected);
                                var toAdd2 = "<div class = 'figure'> " + "<a id = " + y.id + " href = 'movie_page.html'>" + "<img src= " + y.image + " width = 100 height = 100>" + " <p> " + y.name + "</p> </a> </div>";

                                
                                $(toAdd2).appendTo("#all_movies");
                                
                                $('a[id=' + y.id + ']').click(function(event){
                                    console.log("clicked on " + y.name);
                                    console.log("Movie:  " + y.name + " selected: " + y.selected);
                                    console.log("before set Item");
                                    
                                    localStorage.setItem("movie", y.id);

                                });
                            });
                        });
                        
                    });
                });

            function signOut() {
               if (firebase.auth().currentUser) {
                  firebase.auth().signOut();
                  window.location.replace('index.html');
               }
            };

               
            </script>
    
    </body>
</html>
